{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://salvageunion.com/schemas/actions.schema.json",
  "title": "actions",
  "description": "Actions, abilities, and attacks that can be performed in Salvage Union",
  "type": "array",
  "items": {
    "type": "object",
    "required": ["id", "name"],
    "properties": {
      "id": {
        "$ref": "shared/common.schema.json#/definitions/id"
      },
      "content": {
        "$ref": "shared/objects.schema.json#/definitions/content"
      },
      "structurePoints": {
        "type": "number"
      },
      "energyPoints": {
        "type": "number"
      },
      "heatCapacity": {
        "type": "number"
      },
      "systemSlots": {
        "type": "number"
      },
      "moduleSlots": {
        "type": "number"
      },
      "cargoCapacity": {
        "type": "number"
      },
      "techLevel": {
        "$ref": "shared/common.schema.json#/definitions/techLevel"
      },
      "salvageValue": {
        "type": "number"
      },
      "name": {
        "$ref": "shared/common.schema.json#/definitions/name"
      },
      "displayName": {
        "$ref": "shared/common.schema.json#/definitions/name",
        "description": "Optional display name for the action. Falls back to name if not provided."
      },
      "activationCost": {
        "$ref": "shared/common.schema.json#/definitions/activationCost"
      },
      "range": {
        "$ref": "shared/enums.schema.json#/definitions/range"
      },
      "actionType": {
        "$ref": "shared/enums.schema.json#/definitions/actionType"
      },
      "traits": {
        "type": "array",
        "items": {
          "$ref": "shared/objects.schema.json#/definitions/trait"
        }
      },
      "damage": {
        "description": "Damage dealt by an attack or ability",
        "type": "object",
        "additionalProperties": false,
        "required": ["damageType", "amount"],
        "properties": {
          "damageType": {
            "$ref": "shared/enums.schema.json#/definitions/damageType"
          },
          "amount": {
            "oneOf": [
              {
                "$ref": "shared/common.schema.json#/definitions/nonNegativeInteger"
              },
              {
                "type": "string",
                "description": "Variable damage formula"
              }
            ]
          }
        }
      },
      "choices": {
        "type": "array",
        "items": {
          "$ref": "shared/objects.schema.json#/definitions/choice"
        }
      },
      "table": {
        "$ref": "shared/objects.schema.json#/definitions/table"
      },
      "hidden": {
        "type": "boolean",
        "description": "If true, this action will not affect the rendering of the entity display"
      },
      "activationCurrency": {
        "type": "string",
        "enum": ["EP or AP", "SP or HP", "Variable"],
        "description": "The currency type for activation cost (EP/AP, SP/HP, or Variable)"
      },
      "source": {
        "$ref": "shared/enums.schema.json#/definitions/source"
      },
      "page": {
        "$ref": "shared/common.schema.json#/definitions/positiveInteger"
      },
      "actionSource": {
        "$ref": "shared/enums.schema.json#/definitions/schemaName",
        "description": "The schema name that this action is used in (e.g., 'chassis', 'systems', 'modules')"
      }
    },
    "additionalProperties": false
  }
}
